using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Runtime.CompilerServices;

namespace A
{
	// Token: 0x02000012 RID: 18
	public class ce462f8df7ccb876a2d3bd500ac1c174f
	{
		// Token: 0x06000030 RID: 48 RVA: 0x00003560 File Offset: 0x00001760
		public ce462f8df7ccb876a2d3bd500ac1c174f(byte[] cd3d02c445ae4e075c7f12baeb73fd3e1)
		{
			BinaryReader binaryReader = new BinaryReader(new MemoryStream(cd3d02c445ae4e075c7f12baeb73fd3e1));
			try
			{
				if (binaryReader.ReadUInt32() != (uint)cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(248))
				{
					for (;;)
					{
						switch (1)
						{
						case 0:
							continue;
						}
						break;
					}
					if (!true)
					{
						RuntimeMethodHandle runtimeMethodHandle = methodof(ce462f8df7ccb876a2d3bd500ac1c174f..ctor(byte[])).MethodHandle;
					}
					throw new Exception(ceffa389ee86c0ee26f31dd3efacbdd38.c5dd75c94760bfb37727a44ddc794d278(1257));
				}
				binaryReader.cf4db36623042c83be97a6ec33e7b6a16();
				int num = binaryReader.cf4db36623042c83be97a6ec33e7b6a16();
				binaryReader.BaseStream.Seek((long)cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(252), (SeekOrigin)cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(256));
				for (int i = cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(260); i < num; i += cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(272))
				{
					binaryReader.ReadUInt32();
					binaryReader.c3ec653d42b27774123bc8da327735803();
					binaryReader.ReadUInt32();
					binaryReader.BaseStream.Seek((long)cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(264), (SeekOrigin)cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(268));
				}
				for (;;)
				{
					switch (5)
					{
					case 0:
						continue;
					}
					break;
				}
				binaryReader.BaseStream.Seek((long)(cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(276) + num * cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(280) + cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(284)), (SeekOrigin)cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(288));
				uint num2 = binaryReader.c3ec653d42b27774123bc8da327735803();
				binaryReader.BaseStream.Seek((long)(cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(292) + num * cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(296)), (SeekOrigin)cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(300));
				int num3 = cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(304);
				while ((long)num3 < (long)((ulong)num2))
				{
					c362f27bc84ea5b6692418fbdaf79e992 c362f27bc84ea5b6692418fbdaf79e = new c362f27bc84ea5b6692418fbdaf79e992
					{
						c0209aefcfe7e6dc9ad7719a0fa0b263d = binaryReader.ReadByte()
					};
					c362f27bc84ea5b6692418fbdaf79e.c9129297003e298db78ceb4ec7765d937 = (((int)c362f27bc84ea5b6692418fbdaf79e.c0209aefcfe7e6dc9ad7719a0fa0b263d & cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(308)) == cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(312));
					c362f27bc84ea5b6692418fbdaf79e.c7b4ce553a3c25a637311d7b27df95266 = (((int)c362f27bc84ea5b6692418fbdaf79e.c0209aefcfe7e6dc9ad7719a0fa0b263d & cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(316)) > cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(320));
					binaryReader.cb35de7f46e1bfb93038835711aa19705(cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(324));
					c362f27bc84ea5b6692418fbdaf79e.c6d90c75477d966c1350c18dcdfa11588 = binaryReader.c3ec653d42b27774123bc8da327735803();
					c362f27bc84ea5b6692418fbdaf79e.c5db06f710879d10bd98fa2c1adf0deb8 = binaryReader.c3ec653d42b27774123bc8da327735803();
					c362f27bc84ea5b6692418fbdaf79e.cfe230e1aa93fc352e9311fa549f61ffb = binaryReader.c098917df2bc90b8f4a4863b177fb351a();
					c362f27bc84ea5b6692418fbdaf79e.c8cd86a941e9dcf502ef598e3fac37842 = binaryReader.c098917df2bc90b8f4a4863b177fb351a();
					this.Files.Add(c362f27bc84ea5b6692418fbdaf79e);
					num3 += cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(328);
				}
				for (;;)
				{
					switch (2)
					{
					case 0:
						continue;
					}
					break;
				}
				int num4 = cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(332);
				while ((long)num4 < (long)((ulong)num2))
				{
					string text = "";
					for (;;)
					{
						char c = binaryReader.ReadChar();
						if (c == '\0')
						{
							break;
						}
						for (;;)
						{
							switch (7)
							{
							case 0:
								continue;
							}
							break;
						}
						text = c72c3e9a0cc00ee2de6a9f6d658d0ca09.c8d9bd1b5f903cbc3ebfaf48b8b440c7a(text, c.ToString());
					}
					this.Files[num4].ce7d298d73bab0df9bcfdc208996dceec = text;
					num4 += cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(336);
				}
				for (;;)
				{
					switch (3)
					{
					case 0:
						continue;
					}
					break;
				}
				IEnumerable<c362f27bc84ea5b6692418fbdaf79e992> files = this.Files;
				Func<c362f27bc84ea5b6692418fbdaf79e992, bool> predicate;
				if ((predicate = ce462f8df7ccb876a2d3bd500ac1c174f.<>c.c91d5f3c4da7899dd62ffa8332da1ec8e) == null)
				{
					for (;;)
					{
						switch (4)
						{
						case 0:
							continue;
						}
						break;
					}
					predicate = (ce462f8df7ccb876a2d3bd500ac1c174f.<>c.c91d5f3c4da7899dd62ffa8332da1ec8e = new Func<c362f27bc84ea5b6692418fbdaf79e992, bool>(ce462f8df7ccb876a2d3bd500ac1c174f.<>c.cdfab1996eb8651828de2a4469aa3481e.cdc13f3e230d3484c2cb0667c567d126f));
				}
				using (List<c362f27bc84ea5b6692418fbdaf79e992>.Enumerator enumerator = files.Where(predicate).ToList<c362f27bc84ea5b6692418fbdaf79e992>().GetEnumerator())
				{
					while (enumerator.MoveNext())
					{
						c362f27bc84ea5b6692418fbdaf79e992 c362f27bc84ea5b6692418fbdaf79e2 = enumerator.Current;
						c362f27bc84ea5b6692418fbdaf79e992 c362f27bc84ea5b6692418fbdaf79e3 = c362f27bc84ea5b6692418fbdaf79e2;
						string path;
						if ((path = this.Files[(int)c362f27bc84ea5b6692418fbdaf79e2.c6d90c75477d966c1350c18dcdfa11588].c347713f85ec9fc7a92bc7ca07b2612a0) == null)
						{
							for (;;)
							{
								switch (5)
								{
								case 0:
									continue;
								}
								break;
							}
							path = "";
						}
						c362f27bc84ea5b6692418fbdaf79e3.c347713f85ec9fc7a92bc7ca07b2612a0 = Path.Combine(path, c362f27bc84ea5b6692418fbdaf79e2.ce7d298d73bab0df9bcfdc208996dceec);
					}
					for (;;)
					{
						switch (4)
						{
						case 0:
							continue;
						}
						break;
					}
				}
				List<int> list = new List<int>
				{
					(int)this.Files[cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(340)].c5db06f710879d10bd98fa2c1adf0deb8
				};
				string text2 = "";
				int num5 = cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(344);
				while ((long)num5 < (long)((ulong)num2))
				{
					while (list.Last<int>() <= num5)
					{
						text2 = this.cf59b277fd1ec8d2f5deadab481ea4550(text2);
						list.RemoveAt(list.Count - cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(348));
					}
					for (;;)
					{
						switch (1)
						{
						case 0:
							continue;
						}
						break;
					}
					if (this.Files[num5].c9129297003e298db78ceb4ec7765d937)
					{
						for (;;)
						{
							switch (4)
							{
							case 0:
								continue;
							}
							break;
						}
						text2 = Path.Combine(text2, this.Files[num5].ce7d298d73bab0df9bcfdc208996dceec);
						list.Add((int)this.Files[num5].c5db06f710879d10bd98fa2c1adf0deb8);
					}
					else
					{
						this.Files[num5].c347713f85ec9fc7a92bc7ca07b2612a0 = Path.Combine(text2, this.Files[num5].ce7d298d73bab0df9bcfdc208996dceec);
					}
					num5 += cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(352);
				}
				for (;;)
				{
					switch (4)
					{
					case 0:
						continue;
					}
					break;
				}
			}
			finally
			{
				if (binaryReader != null)
				{
					for (;;)
					{
						switch (3)
						{
						case 0:
							continue;
						}
						break;
					}
					((IDisposable)binaryReader).Dispose();
				}
			}
		}

		// Token: 0x17000004 RID: 4
		// (get) Token: 0x06000031 RID: 49 RVA: 0x00003A88 File Offset: 0x00001C88
		// (set) Token: 0x06000032 RID: 50 RVA: 0x00003A9C File Offset: 0x00001C9C
		public List<c362f27bc84ea5b6692418fbdaf79e992> Files { get; set; } = new List<c362f27bc84ea5b6692418fbdaf79e992>();

		// Token: 0x06000033 RID: 51 RVA: 0x00003AB0 File Offset: 0x00001CB0
		private string cf59b277fd1ec8d2f5deadab481ea4550(string cc9f36ab8599957a993eea667b1cca61f)
		{
			string result;
			try
			{
				int startIndex = cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(232);
				char[] array = c79caed728c3efc32d12ed7d388c559a7.cad714a49573fd585a8ab14c80a23536b(cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(236));
				array[cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(240)] = (char)cebbdeae8341a51f374f3ef4c993a069a.c6bc1c09ec46e3a402ca1f5ca208c573e(244);
				result = cc9f36ab8599957a993eea667b1cca61f.Substring(startIndex, cc9f36ab8599957a993eea667b1cca61f.LastIndexOfAny(array));
			}
			catch
			{
				result = "";
			}
			return result;
		}

		// Token: 0x04000021 RID: 33
		[CompilerGenerated]
		private List<c362f27bc84ea5b6692418fbdaf79e992> cdf5636fc480f7b3bd40b36b059002bce;
	}
}
